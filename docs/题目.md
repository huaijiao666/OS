二、设计任务及要求
1、课程设计任务
本次课程设计的任务是在Linux/Windows/iOS/Android等现有操作系统基础上（推荐使用Linux），模拟实现部分操作系统的功能和相关算法，加深对操作系统运行机制的掌握和理解。本部分任务每组同学完成一份（分组见“课程设计分组”部分）。任务具体要求：
以模块化或面向对象编程思想实现下面功能（涉及具体算法按选择题表中要求）：
（1）磁盘与文件组织
建立一个M×N大小的文件，作为模拟磁盘：其中M为每个盘块的大小（如可取值为64B），N为盘块的数量（如可取值1024）；磁盘的前部用于存放目录和位图、FAT表信息，后部用于存放文件内容。在模拟磁盘基础上建立的文件系统，要求如下：
（a）目录：目录中存放文件名、创建时间、基本权限和盘块信息，目录可根据自己需要选择采用单级或多级目录形式；目录中可以直接存放文件控制块FCB，也可以存成文件名加iNode节点的形式。
（b）数据组织：对存放在数据区的文件内容，可以采用显式连接（FAT）方式、隐式链接方式、索引方式，以及混合索引方式。
（c）空闲块管理：能够查询并返回当前剩余的空闲块，如果数据组织采用链接方式则对空闲块管理采用位示图法，如果数据组织采用FAT方式则空闲块管理直接基于FAT表实现。
（d）文件操作：对文件的操作可采用内存映射文件、异步I/O或非阻塞I/O方式。
（2）文件接口
对文件的操作包括以下内容：
（a）新建文件：输入文件基本信息和内容后在模拟磁盘中建立文件的目录并按规定方式组织数据的存放。
（b）查询目录：能够通过命令查询当前磁盘中的目录信息，包括文件名、创建时间和文件总共占用磁盘块数等。
（c）查看文件内容：能够通过命令查看指定文件的任意盘块中的信息。
（d）修改文件内容：能够通过命令修改指定文件的任意盘块中的信息。
（e）删除文件：删除目录中某个文件，删除其在磁盘中的数据，并修改目录等相关数据结构。如果被删除文件正在操作应该阻止删除，完成基本的文件保护。
（3）内存缓冲页
	文件接口中对文件内容的查看和修改过程，需要将文件内容先读入一个M×K大小的缓冲区，其中页大小M和磁盘块的大小相等，K可以取值为8、16等：
（a）内存缓冲的分配：当有多个进程查看、修改文件时，能有效分配K个缓冲页，需要记录每个缓冲页的所有者、访问时间和是否修改等信息。
（b）缓冲页置换：如果缓冲页不足需要找到合适的页面进行置换，如果页面没有修改可以直接丢弃，如果被修改过则需要将其写回磁盘。
（4）进程、线程的同步与互斥
本次模拟的操作系统的各部分功能以进程或线程为基本运行单位，进程、线程本身采用编程语言提供的进程、线程机制，不模拟。（多人合作中可以每人单独写一个程序/进程通过接口进行通信）
（a）命令进程：文件接口中涉及的每个命令都单独作为一个进程。
（b）进程通信：进程间的通信可采用管道、消息或共享内存方式。
（c）进程间同步与互斥：进程间对模拟磁盘文件、内存缓冲等的访问需要进行同步和互斥控制。可以采用信号量机制或者条件变量机制实现。
（d）进程调度：同时运行的进程（如两个进程同时查看文件），进程间可采用时间片轮转RR或者优先级策略（通过修改操作系统的调度策略实现）
（5）可视化
	对内存缓冲、磁盘信息、目录信息进行可视化显示，并能够动态刷新。文件输入读入内存过程、以及换页过程在块与块之间加入延时，以便观察。